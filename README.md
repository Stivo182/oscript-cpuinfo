# cpuinfo

[![Release](https://img.shields.io/github/release/Stivo182/oscript-cpuinfo.svg)](https://github.com/Stivo182/oscript-cpuinfo/releases)
[![Тестирование](https://github.com/Stivo182/oscript-cpuinfo/actions/workflows/test.yml/badge.svg)](https://github.com/Stivo182/oscript-cpuinfo/actions/workflows/test.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

Библиотека для получения информации о процессоре на платформе OneScript.

## Возможности

- Получение краткого и полного описания процессора.
- Информация о количестве ядер, логических процессоров, частоте и архитектуре.
- Поддержка платформ: Windows, Linux, macOS.

## Установка

``` bash
opm install cpuinfo
```

## Использование

``` bsl
#Использовать cpuinfo

ИнформацияОПроцессоре = Новый ИнформацияОПроцессоре();

// Получение краткого описания процессора
Сообщить("Краткое описание:");
Сообщить(ИнформацияОПроцессоре.КраткоеОписание());

// Получение полного описания процессора
Сообщить("Полное описание:");
Сообщить(ИнформацияОПроцессоре.ПолноеОписание());

// Получение отдельных полей
Сообщить("Имя процессора: " + ИнформацияОПроцессоре.ИмяПроцессора);
Сообщить("Количество ядер: " + ИнформацияОПроцессоре.КоличествоЯдер);
Сообщить("Номинальная частота: " + ИнформацияОПроцессоре.НоминальнаяЧастота);
Сообщить("Архитектура: " + ИнформацияОПроцессоре.Архитектура);
```

**Вывод:**
```
Краткое описание:
Intel Core i7-8700 CPU 3.20GHz (Coffee Lake)

Полное описание:
Intel Core i7-8700 CPU 3.20GHz (Max: 3.19GHz) (Coffee Lake), 1 CPU, 12 logical and 6 physical cores

Имя процессора: Intel(R) Core(TM) i7-8700 CPU @ 3.20GHz
Количество ядер: 6
Номинальная частота: 3192000000
Архитектура: X64
```

## Публичный интерфейс

### Класс `ИнформацияОПроцессоре`

#### Синтаксис

`Новый ИнформацияОПроцессоре(<ЗаполнитьДанными>)`

#### Параметры

<ins><ЗаполнитьДанными> (необязательный)</ins></br>
Тип: _Булево_.</br>
Признак автоматического сбора информации о процессоре при создании объекта.
Если _Истина_, данные о процессоре собираются и **кэшируются**.
Если _Ложь_, свойства остаются неинициализированными.</br>
По умолчанию: _Истина_.

#### Поля
  
| Поле                      | Тип     | Описание                                                                 |
|---------------------------|---------|--------------------------------------------------------------------------|
| `ИмяПроцессора`           | Строка  | Название процессора.                                                     |
| `КоличествоПроцессоров`   | Число   | Количество физических процессоров в системе.                             |
| `КоличествоЯдер`          | Число   | Количество физических ядер процессора.                                   |
| `КоличествоЛогическихПроцессоров` | Число | Количество логических процессоров (потоков).                       |
| `НоминальнаяЧастота`      | Число   | Частота процессора в Гц (номинальная).                                   |
| `МаксимальнаяЧастота`     | Число   | Максимальная частота процессора в Гц.                                    |
| `Архитектура`             | Строка  | Архитектура процессора (см. `АрхитектурыПроцессоров`).                   |

#### Методы

| Метод                 | Возвращаемый тип | Описание                                                                 |
|-----------------------|------------------|--------------------------------------------------------------------------|
| `КраткоеОписание`   | Строка           | Возвращает краткое описание процессора.                                    |
| `ПолноеОписание`    | Строка           | Возвращает полное описание процессора, включая все характеристики.         |

### Перечисление `АрхитектурыПроцессоров`

| Значение  | Описание                         |
|-----------|--------------------------------- |
| `X86`     | 32-битная архитектура Intel/AMD. |
| `X64`     | 64-битная архитектура Intel/AMD. |
| `ARM`     | 32-битная архитектура ARM.       |
| `ARM64`   | 64-битная архитектура ARM.       |

## Источники получения информации

Библиотека автоматически выбирает подходящий источник в зависимости от ОС:

| ОС       | Источник                     | Описание                                                                 |
|----------|------------------------------|--------------------------------------------------------------------------|
| Linux    | `/proc/cpuinfo`              | Файл ядра Linux, содержащий информацию о процессоре.                     |
| Linux    | `lscpu`                      | Утилита для получения структурированных данных о CPU.                    |
| Windows  | `wmic cpu get`               | Команда Windows для получения данных о процессоре.                       |
| Windows  | `Get-CimInstance Win32_Processor` | PowerShell-команда для получения данных о процессоре.               |
| macOS    | `sysctl`                     | Утилита macOS для доступа к системной информации.                        |